name: 'Auto Release & Changelog'
description: 'Crea automaticamente release GitHub con changelog generato da conventional commits'
author: 'Auto-generated'
branding:
  icon: 'git-commit'
  color: 'blue'

inputs:
  github-token:
    description: 'GitHub token con permessi per creare release e tag'
    required: true
  release-type:
    description: 'Tipo di release: major, minor, patch, none'
    required: false
    default: 'patch'
  changelog-path:
    description: 'Path del file CHANGELOG.md'
    required: false
    default: 'CHANGELOG.md'
  backend-url:
    description: 'URL del backend SaaS per inviare report (opzionale)'
    required: false
  api-key:
    description: 'API key per autenticazione backend (opzionale)'
    required: false
  fail-on-backend-error:
    description: 'Fallisce l''action se il backend ritorna errore (default: false)'
    required: false
    default: 'false'

outputs:
  release-url:
    description: 'URL della release creata (se creata)'
  version:
    description: 'Versione calcolata (se release-type != none)'
  tag:
    description: 'Tag creato (se release creata)'

runs:
  using: 'node16'
  main: 'dist/index.js'


